
> myfarmstand-mobile@1.0.0 test:hooks
> jest --config jest.config.hooks.regular.js src/hooks/__tests__/ --forceExit

PASS src/hooks/__tests__/useProductAdmin.test.ts (35.589 s)
  ● Console

    console.log
      Setting up tests in default mode

      at log (src/test/test-setup.ts:522:11)

FAIL src/hooks/__tests__/useOrders.test.ts
  ● Test suite failed to run

    Jest encountered an unexpected token

    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.

    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.

    By default "node_modules" folder is ignored by transformers.

    Here's what you can do:
     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.
     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript
     • To have some of your "node_modules" files transformed, you can specify a custom "transformIgnorePatterns" in your config.
     • If you need a custom transformation specify a "transform" option in your config.
     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the "moduleNameMapper" config option.

    You'll find more details and examples of these config options in the docs:
    https://jestjs.io/docs/configuration
    For information about custom transformations, see:
    https://jestjs.io/docs/code-transformation

    Details:

    SyntaxError: /Users/andrewkhoh/Documents/test-fixes-core-hooks/src/test/contracts/hook.contracts.ts: Unexpected token (355:0)

      353 |       
      354 |       return validated;
    > 355 | =======
          | ^
      356 |  * Comprehensive validation layer for all React hooks to ensure
      357 |  * data consistency, type safety, and contract compliance.
      358 |  *

      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)
      at TypeScriptParserMixin.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)
      at TypeScriptParserMixin.raise [as unexpected] (node_modules/@babel/parser/src/tokenizer/index.ts:1543:16)
      at TypeScriptParserMixin.unexpected [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1350:16)
      at TypeScriptParserMixin.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)
      at TypeScriptParserMixin.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:675:23)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/plugins/typescript/index.ts:3853:20)
      at TypeScriptParserMixin.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)
      at TypeScriptParserMixin.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)
      at TypeScriptParserMixin.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)
      at TypeScriptParserMixin.parseMaybeConditional (node_modules/@babel/parser/src/parser/expression.ts:301:21)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/plugins/typescript/index.ts:3725:22)
      at TypeScriptParserMixin.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)
      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)
      at TypeScriptParserMixin.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)
      at TypeScriptParserMixin.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)
      at TypeScriptParserMixin.parseExpression (node_modules/@babel/parser/src/parser/statement.ts:683:23)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)
      at TypeScriptParserMixin.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)
      at TypeScriptParserMixin.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)
      at TypeScriptParserMixin.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)
      at TypeScriptParserMixin.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)
      at TypeScriptParserMixin.parseArrowExpression [as parseParenAndDistinguishExpression] (node_modules/@babel/parser/src/parser/expression.ts:1837:12)
      at TypeScriptParserMixin.parseParenAndDistinguishExpression [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1162:21)
      at TypeScriptParserMixin.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)
      at TypeScriptParserMixin.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:675:23)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/plugins/typescript/index.ts:3853:20)
      at TypeScriptParserMixin.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)
      at TypeScriptParserMixin.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)
      at TypeScriptParserMixin.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)
      at TypeScriptParserMixin.parseMaybeConditional (node_modules/@babel/parser/src/parser/expression.ts:301:21)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/plugins/typescript/index.ts:3725:22)
      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)
      at TypeScriptParserMixin.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)
      at TypeScriptParserMixin.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)
      at TypeScriptParserMixin.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)
      at TypeScriptParserMixin.parseMaybeAssignAllowInOrVoidPattern [as parseObjectProperty] (node_modules/@babel/parser/src/parser/expression.ts:2315:16)
      at TypeScriptParserMixin.parseObjectProperty (node_modules/@babel/parser/src/parser/expression.ts:2378:12)
      at TypeScriptParserMixin.parseObjPropValue (node_modules/@babel/parser/src/plugins/typescript/index.ts:3636:20)
      at TypeScriptParserMixin.parseObjPropValue [as parsePropertyDefinition] (node_modules/@babel/parser/src/parser/expression.ts:2218:17)
      at TypeScriptParserMixin.parsePropertyDefinition [as parseObjectLike] (node_modules/@babel/parser/src/parser/expression.ts:2085:21)
      at TypeScriptParserMixin.parseObjectLike [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1174:21)
      at TypeScriptParserMixin.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)
      at TypeScriptParserMixin.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:675:23)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/plugins/typescript/index.ts:3853:20)
      at TypeScriptParserMixin.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)
      at TypeScriptParserMixin.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)
      at TypeScriptParserMixin.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)
      at TypeScriptParserMixin.parseMaybeConditional (node_modules/@babel/parser/src/parser/expression.ts:301:21)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/plugins/typescript/index.ts:3725:22)
      at TypeScriptParserMixin.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)
      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)
      at TypeScriptParserMixin.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)
      at TypeScriptParserMixin.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)
      at TypeScriptParserMixin.parseExpression [as parseReturnStatement] (node_modules/@babel/parser/src/parser/statement.ts:1110:28)
      at TypeScriptParserMixin.parseReturnStatement (node_modules/@babel/parser/src/parser/statement.ts:538:21)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)
      at TypeScriptParserMixin.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)
      at TypeScriptParserMixin.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)
      at TypeScriptParserMixin.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)
      at TypeScriptParserMixin.parseFunctionBody (node_modules/@babel/parser/src/parser/expression.ts:2585:10)
      at TypeScriptParserMixin.parseFunctionBodyAndFinish (node_modules/@babel/parser/src/plugins/typescript/index.ts:2645:20)
      at parseFunctionBodyAndFinish (node_modules/@babel/parser/src/parser/statement.ts:1690:12)
      at TypeScriptParserMixin.callback [as withSmartMixTopicForbiddingContext] (node_modules/@babel/parser/src/parser/expression.ts:3166:14)
      at TypeScriptParserMixin.withSmartMixTopicForbiddingContext [as parseFunction] (node_modules/@babel/parser/src/parser/statement.ts:1688:10)
      at TypeScriptParserMixin.parseFunction [as parseFunctionStatement] (node_modules/@babel/parser/src/parser/statement.ts:1075:17)
      at TypeScriptParserMixin.parseFunctionStatement (node_modules/@babel/parser/src/parser/statement.ts:520:21)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)
      at TypeScriptParserMixin.parseStatementListItem (node_modules/@babel/parser/src/parser/statement.ts:2630:17)
      at TypeScriptParserMixin.parseExportDeclaration (node_modules/@babel/parser/src/plugins/typescript/index.ts:3428:15)
      at TypeScriptParserMixin.parseExportDeclaration [as maybeParseExportDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:2546:31)
      at TypeScriptParserMixin.maybeParseExportDeclaration (node_modules/@babel/parser/src/parser/statement.ts:2427:29)
      at TypeScriptParserMixin.parseExport (node_modules/@babel/parser/src/plugins/typescript/index.ts:3085:22)
      at TypeScriptParserMixin.parseExport (node_modules/@babel/parser/src/parser/statement.ts:644:25)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseModuleItem] (node_modules/@babel/parser/src/parser/statement.ts:414:17)
      at TypeScriptParserMixin.parseModuleItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1438:16)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)
      at TypeScriptParserMixin.parseBlockBody [as parseProgram] (node_modules/@babel/parser/src/parser/statement.ts:229:10)
      at TypeScriptParserMixin.parseProgram [as parseTopLevel] (node_modules/@babel/parser/src/parser/statement.ts:203:25)
      at TypeScriptParserMixin.parseTopLevel (node_modules/@babel/parser/src/parser/index.ts:93:10)
      at TypeScriptParserMixin.parse (node_modules/@babel/parser/src/plugins/typescript/index.ts:4307:20)
      at parse (node_modules/@babel/parser/src/index.ts:92:38)
      at parser (node_modules/@babel/core/src/parser/index.ts:28:19)
          at parser.next (<anonymous>)
      at normalizeFile (node_modules/@babel/core/src/transformation/normalize-file.ts:49:24)
          at normalizeFile.next (<anonymous>)
      at run (node_modules/@babel/core/src/transformation/index.ts:40:36)

FAIL src/hooks/__tests__/useCart.test.ts
  ● Test suite failed to run

    Jest encountered an unexpected token

    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.

    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.

    By default "node_modules" folder is ignored by transformers.

    Here's what you can do:
     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.
     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript
     • To have some of your "node_modules" files transformed, you can specify a custom "transformIgnorePatterns" in your config.
     • If you need a custom transformation specify a "transform" option in your config.
     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the "moduleNameMapper" config option.

    You'll find more details and examples of these config options in the docs:
    https://jestjs.io/docs/configuration
    For information about custom transformations, see:
    https://jestjs.io/docs/code-transformation

    Details:

    SyntaxError: /Users/andrewkhoh/Documents/test-fixes-core-hooks/src/test/contracts/hook.contracts.ts: Unexpected token (355:0)

      353 |       
      354 |       return validated;
    > 355 | =======
          | ^
      356 |  * Comprehensive validation layer for all React hooks to ensure
      357 |  * data consistency, type safety, and contract compliance.
      358 |  *

      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)
      at TypeScriptParserMixin.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)
      at TypeScriptParserMixin.raise [as unexpected] (node_modules/@babel/parser/src/tokenizer/index.ts:1543:16)
      at TypeScriptParserMixin.unexpected [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1350:16)
      at TypeScriptParserMixin.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)
      at TypeScriptParserMixin.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:675:23)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/plugins/typescript/index.ts:3853:20)
      at TypeScriptParserMixin.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)
      at TypeScriptParserMixin.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)
      at TypeScriptParserMixin.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)
      at TypeScriptParserMixin.parseMaybeConditional (node_modules/@babel/parser/src/parser/expression.ts:301:21)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/plugins/typescript/index.ts:3725:22)
      at TypeScriptParserMixin.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)
      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)
      at TypeScriptParserMixin.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)
      at TypeScriptParserMixin.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)
      at TypeScriptParserMixin.parseExpression (node_modules/@babel/parser/src/parser/statement.ts:683:23)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)
      at TypeScriptParserMixin.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)
      at TypeScriptParserMixin.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)
      at TypeScriptParserMixin.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)
      at TypeScriptParserMixin.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)
      at TypeScriptParserMixin.parseArrowExpression [as parseParenAndDistinguishExpression] (node_modules/@babel/parser/src/parser/expression.ts:1837:12)
      at TypeScriptParserMixin.parseParenAndDistinguishExpression [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1162:21)
      at TypeScriptParserMixin.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)
      at TypeScriptParserMixin.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:675:23)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/plugins/typescript/index.ts:3853:20)
      at TypeScriptParserMixin.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)
      at TypeScriptParserMixin.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)
      at TypeScriptParserMixin.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)
      at TypeScriptParserMixin.parseMaybeConditional (node_modules/@babel/parser/src/parser/expression.ts:301:21)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/plugins/typescript/index.ts:3725:22)
      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)
      at TypeScriptParserMixin.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)
      at TypeScriptParserMixin.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)
      at TypeScriptParserMixin.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)
      at TypeScriptParserMixin.parseMaybeAssignAllowInOrVoidPattern [as parseObjectProperty] (node_modules/@babel/parser/src/parser/expression.ts:2315:16)
      at TypeScriptParserMixin.parseObjectProperty (node_modules/@babel/parser/src/parser/expression.ts:2378:12)
      at TypeScriptParserMixin.parseObjPropValue (node_modules/@babel/parser/src/plugins/typescript/index.ts:3636:20)
      at TypeScriptParserMixin.parseObjPropValue [as parsePropertyDefinition] (node_modules/@babel/parser/src/parser/expression.ts:2218:17)
      at TypeScriptParserMixin.parsePropertyDefinition [as parseObjectLike] (node_modules/@babel/parser/src/parser/expression.ts:2085:21)
      at TypeScriptParserMixin.parseObjectLike [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1174:21)
      at TypeScriptParserMixin.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)
      at TypeScriptParserMixin.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:675:23)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/plugins/typescript/index.ts:3853:20)
      at TypeScriptParserMixin.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)
      at TypeScriptParserMixin.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)
      at TypeScriptParserMixin.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)
      at TypeScriptParserMixin.parseMaybeConditional (node_modules/@babel/parser/src/parser/expression.ts:301:21)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/plugins/typescript/index.ts:3725:22)
      at TypeScriptParserMixin.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)
      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)
      at TypeScriptParserMixin.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)
      at TypeScriptParserMixin.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)
      at TypeScriptParserMixin.parseExpression [as parseReturnStatement] (node_modules/@babel/parser/src/parser/statement.ts:1110:28)
      at TypeScriptParserMixin.parseReturnStatement (node_modules/@babel/parser/src/parser/statement.ts:538:21)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)
      at TypeScriptParserMixin.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)
      at TypeScriptParserMixin.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)
      at TypeScriptParserMixin.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)
      at TypeScriptParserMixin.parseFunctionBody (node_modules/@babel/parser/src/parser/expression.ts:2585:10)
      at TypeScriptParserMixin.parseFunctionBodyAndFinish (node_modules/@babel/parser/src/plugins/typescript/index.ts:2645:20)
      at parseFunctionBodyAndFinish (node_modules/@babel/parser/src/parser/statement.ts:1690:12)
      at TypeScriptParserMixin.callback [as withSmartMixTopicForbiddingContext] (node_modules/@babel/parser/src/parser/expression.ts:3166:14)
      at TypeScriptParserMixin.withSmartMixTopicForbiddingContext [as parseFunction] (node_modules/@babel/parser/src/parser/statement.ts:1688:10)
      at TypeScriptParserMixin.parseFunction [as parseFunctionStatement] (node_modules/@babel/parser/src/parser/statement.ts:1075:17)
      at TypeScriptParserMixin.parseFunctionStatement (node_modules/@babel/parser/src/parser/statement.ts:520:21)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)
      at TypeScriptParserMixin.parseStatementListItem (node_modules/@babel/parser/src/parser/statement.ts:2630:17)
      at TypeScriptParserMixin.parseExportDeclaration (node_modules/@babel/parser/src/plugins/typescript/index.ts:3428:15)
      at TypeScriptParserMixin.parseExportDeclaration [as maybeParseExportDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:2546:31)
      at TypeScriptParserMixin.maybeParseExportDeclaration (node_modules/@babel/parser/src/parser/statement.ts:2427:29)
      at TypeScriptParserMixin.parseExport (node_modules/@babel/parser/src/plugins/typescript/index.ts:3085:22)
      at TypeScriptParserMixin.parseExport (node_modules/@babel/parser/src/parser/statement.ts:644:25)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseModuleItem] (node_modules/@babel/parser/src/parser/statement.ts:414:17)
      at TypeScriptParserMixin.parseModuleItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1438:16)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)
      at TypeScriptParserMixin.parseBlockBody [as parseProgram] (node_modules/@babel/parser/src/parser/statement.ts:229:10)
      at TypeScriptParserMixin.parseProgram [as parseTopLevel] (node_modules/@babel/parser/src/parser/statement.ts:203:25)
      at TypeScriptParserMixin.parseTopLevel (node_modules/@babel/parser/src/parser/index.ts:93:10)
      at TypeScriptParserMixin.parse (node_modules/@babel/parser/src/plugins/typescript/index.ts:4307:20)
      at parse (node_modules/@babel/parser/src/index.ts:92:38)
      at parser (node_modules/@babel/core/src/parser/index.ts:28:19)
          at parser.next (<anonymous>)
      at normalizeFile (node_modules/@babel/core/src/transformation/normalize-file.ts:49:24)
          at normalizeFile.next (<anonymous>)
      at run (node_modules/@babel/core/src/transformation/index.ts:40:36)

FAIL src/hooks/__tests__/useAuth.test.ts
  ● Test suite failed to run

    Jest encountered an unexpected token

    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.

    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.

    By default "node_modules" folder is ignored by transformers.

    Here's what you can do:
     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.
     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript
     • To have some of your "node_modules" files transformed, you can specify a custom "transformIgnorePatterns" in your config.
     • If you need a custom transformation specify a "transform" option in your config.
     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the "moduleNameMapper" config option.

    You'll find more details and examples of these config options in the docs:
    https://jestjs.io/docs/configuration
    For information about custom transformations, see:
    https://jestjs.io/docs/code-transformation

    Details:

    SyntaxError: /Users/andrewkhoh/Documents/test-fixes-core-hooks/src/test/contracts/hook.contracts.ts: Unexpected token (355:0)

      353 |       
      354 |       return validated;
    > 355 | =======
          | ^
      356 |  * Comprehensive validation layer for all React hooks to ensure
      357 |  * data consistency, type safety, and contract compliance.
      358 |  *

      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)
      at TypeScriptParserMixin.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)
      at TypeScriptParserMixin.raise [as unexpected] (node_modules/@babel/parser/src/tokenizer/index.ts:1543:16)
      at TypeScriptParserMixin.unexpected [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1350:16)
      at TypeScriptParserMixin.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)
      at TypeScriptParserMixin.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:675:23)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/plugins/typescript/index.ts:3853:20)
      at TypeScriptParserMixin.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)
      at TypeScriptParserMixin.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)
      at TypeScriptParserMixin.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)
      at TypeScriptParserMixin.parseMaybeConditional (node_modules/@babel/parser/src/parser/expression.ts:301:21)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/plugins/typescript/index.ts:3725:22)
      at TypeScriptParserMixin.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)
      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)
      at TypeScriptParserMixin.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)
      at TypeScriptParserMixin.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)
      at TypeScriptParserMixin.parseExpression (node_modules/@babel/parser/src/parser/statement.ts:683:23)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)
      at TypeScriptParserMixin.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)
      at TypeScriptParserMixin.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)
      at TypeScriptParserMixin.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)
      at TypeScriptParserMixin.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)
      at TypeScriptParserMixin.parseArrowExpression [as parseParenAndDistinguishExpression] (node_modules/@babel/parser/src/parser/expression.ts:1837:12)
      at TypeScriptParserMixin.parseParenAndDistinguishExpression [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1162:21)
      at TypeScriptParserMixin.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)
      at TypeScriptParserMixin.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:675:23)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/plugins/typescript/index.ts:3853:20)
      at TypeScriptParserMixin.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)
      at TypeScriptParserMixin.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)
      at TypeScriptParserMixin.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)
      at TypeScriptParserMixin.parseMaybeConditional (node_modules/@babel/parser/src/parser/expression.ts:301:21)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/plugins/typescript/index.ts:3725:22)
      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)
      at TypeScriptParserMixin.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)
      at TypeScriptParserMixin.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)
      at TypeScriptParserMixin.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)
      at TypeScriptParserMixin.parseMaybeAssignAllowInOrVoidPattern [as parseObjectProperty] (node_modules/@babel/parser/src/parser/expression.ts:2315:16)
      at TypeScriptParserMixin.parseObjectProperty (node_modules/@babel/parser/src/parser/expression.ts:2378:12)
      at TypeScriptParserMixin.parseObjPropValue (node_modules/@babel/parser/src/plugins/typescript/index.ts:3636:20)
      at TypeScriptParserMixin.parseObjPropValue [as parsePropertyDefinition] (node_modules/@babel/parser/src/parser/expression.ts:2218:17)
      at TypeScriptParserMixin.parsePropertyDefinition [as parseObjectLike] (node_modules/@babel/parser/src/parser/expression.ts:2085:21)
      at TypeScriptParserMixin.parseObjectLike [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1174:21)
      at TypeScriptParserMixin.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)
      at TypeScriptParserMixin.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:675:23)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/plugins/typescript/index.ts:3853:20)
      at TypeScriptParserMixin.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)
      at TypeScriptParserMixin.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)
      at TypeScriptParserMixin.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)
      at TypeScriptParserMixin.parseMaybeConditional (node_modules/@babel/parser/src/parser/expression.ts:301:21)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/plugins/typescript/index.ts:3725:22)
      at TypeScriptParserMixin.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)
      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)
      at TypeScriptParserMixin.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)
      at TypeScriptParserMixin.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)
      at TypeScriptParserMixin.parseExpression [as parseReturnStatement] (node_modules/@babel/parser/src/parser/statement.ts:1110:28)
      at TypeScriptParserMixin.parseReturnStatement (node_modules/@babel/parser/src/parser/statement.ts:538:21)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)
      at TypeScriptParserMixin.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)
      at TypeScriptParserMixin.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)
      at TypeScriptParserMixin.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)
      at TypeScriptParserMixin.parseFunctionBody (node_modules/@babel/parser/src/parser/expression.ts:2585:10)
      at TypeScriptParserMixin.parseFunctionBodyAndFinish (node_modules/@babel/parser/src/plugins/typescript/index.ts:2645:20)
      at parseFunctionBodyAndFinish (node_modules/@babel/parser/src/parser/statement.ts:1690:12)
      at TypeScriptParserMixin.callback [as withSmartMixTopicForbiddingContext] (node_modules/@babel/parser/src/parser/expression.ts:3166:14)
      at TypeScriptParserMixin.withSmartMixTopicForbiddingContext [as parseFunction] (node_modules/@babel/parser/src/parser/statement.ts:1688:10)
      at TypeScriptParserMixin.parseFunction [as parseFunctionStatement] (node_modules/@babel/parser/src/parser/statement.ts:1075:17)
      at TypeScriptParserMixin.parseFunctionStatement (node_modules/@babel/parser/src/parser/statement.ts:520:21)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)
      at TypeScriptParserMixin.parseStatementListItem (node_modules/@babel/parser/src/parser/statement.ts:2630:17)
      at TypeScriptParserMixin.parseExportDeclaration (node_modules/@babel/parser/src/plugins/typescript/index.ts:3428:15)
      at TypeScriptParserMixin.parseExportDeclaration [as maybeParseExportDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:2546:31)
      at TypeScriptParserMixin.maybeParseExportDeclaration (node_modules/@babel/parser/src/parser/statement.ts:2427:29)
      at TypeScriptParserMixin.parseExport (node_modules/@babel/parser/src/plugins/typescript/index.ts:3085:22)
      at TypeScriptParserMixin.parseExport (node_modules/@babel/parser/src/parser/statement.ts:644:25)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseModuleItem] (node_modules/@babel/parser/src/parser/statement.ts:414:17)
      at TypeScriptParserMixin.parseModuleItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1438:16)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)
      at TypeScriptParserMixin.parseBlockBody [as parseProgram] (node_modules/@babel/parser/src/parser/statement.ts:229:10)
      at TypeScriptParserMixin.parseProgram [as parseTopLevel] (node_modules/@babel/parser/src/parser/statement.ts:203:25)
      at TypeScriptParserMixin.parseTopLevel (node_modules/@babel/parser/src/parser/index.ts:93:10)
      at TypeScriptParserMixin.parse (node_modules/@babel/parser/src/plugins/typescript/index.ts:4307:20)
      at parse (node_modules/@babel/parser/src/index.ts:92:38)
      at parser (node_modules/@babel/core/src/parser/index.ts:28:19)
          at parser.next (<anonymous>)
      at normalizeFile (node_modules/@babel/core/src/transformation/normalize-file.ts:49:24)
          at normalizeFile.next (<anonymous>)
      at run (node_modules/@babel/core/src/transformation/index.ts:40:36)

FAIL src/hooks/__tests__/useProducts.test.ts
  ● Test suite failed to run

    Jest encountered an unexpected token

    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.

    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.

    By default "node_modules" folder is ignored by transformers.

    Here's what you can do:
     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.
     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript
     • To have some of your "node_modules" files transformed, you can specify a custom "transformIgnorePatterns" in your config.
     • If you need a custom transformation specify a "transform" option in your config.
     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the "moduleNameMapper" config option.

    You'll find more details and examples of these config options in the docs:
    https://jestjs.io/docs/configuration
    For information about custom transformations, see:
    https://jestjs.io/docs/code-transformation

    Details:

    SyntaxError: /Users/andrewkhoh/Documents/test-fixes-core-hooks/src/test/contracts/hook.contracts.ts: Unexpected token (355:0)

      353 |       
      354 |       return validated;
    > 355 | =======
          | ^
      356 |  * Comprehensive validation layer for all React hooks to ensure
      357 |  * data consistency, type safety, and contract compliance.
      358 |  *

      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)
      at TypeScriptParserMixin.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)
      at TypeScriptParserMixin.raise [as unexpected] (node_modules/@babel/parser/src/tokenizer/index.ts:1543:16)
      at TypeScriptParserMixin.unexpected [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1350:16)
      at TypeScriptParserMixin.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)
      at TypeScriptParserMixin.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:675:23)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/plugins/typescript/index.ts:3853:20)
      at TypeScriptParserMixin.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)
      at TypeScriptParserMixin.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)
      at TypeScriptParserMixin.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)
      at TypeScriptParserMixin.parseMaybeConditional (node_modules/@babel/parser/src/parser/expression.ts:301:21)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/plugins/typescript/index.ts:3725:22)
      at TypeScriptParserMixin.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)
      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)
      at TypeScriptParserMixin.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)
      at TypeScriptParserMixin.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)
      at TypeScriptParserMixin.parseExpression (node_modules/@babel/parser/src/parser/statement.ts:683:23)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)
      at TypeScriptParserMixin.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)
      at TypeScriptParserMixin.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)
      at TypeScriptParserMixin.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)
      at TypeScriptParserMixin.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)
      at TypeScriptParserMixin.parseArrowExpression [as parseParenAndDistinguishExpression] (node_modules/@babel/parser/src/parser/expression.ts:1837:12)
      at TypeScriptParserMixin.parseParenAndDistinguishExpression [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1162:21)
      at TypeScriptParserMixin.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)
      at TypeScriptParserMixin.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:675:23)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/plugins/typescript/index.ts:3853:20)
      at TypeScriptParserMixin.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)
      at TypeScriptParserMixin.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)
      at TypeScriptParserMixin.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)
      at TypeScriptParserMixin.parseMaybeConditional (node_modules/@babel/parser/src/parser/expression.ts:301:21)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/plugins/typescript/index.ts:3725:22)
      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)
      at TypeScriptParserMixin.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)
      at TypeScriptParserMixin.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)
      at TypeScriptParserMixin.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)
      at TypeScriptParserMixin.parseMaybeAssignAllowInOrVoidPattern [as parseObjectProperty] (node_modules/@babel/parser/src/parser/expression.ts:2315:16)
      at TypeScriptParserMixin.parseObjectProperty (node_modules/@babel/parser/src/parser/expression.ts:2378:12)
      at TypeScriptParserMixin.parseObjPropValue (node_modules/@babel/parser/src/plugins/typescript/index.ts:3636:20)
      at TypeScriptParserMixin.parseObjPropValue [as parsePropertyDefinition] (node_modules/@babel/parser/src/parser/expression.ts:2218:17)
      at TypeScriptParserMixin.parsePropertyDefinition [as parseObjectLike] (node_modules/@babel/parser/src/parser/expression.ts:2085:21)
      at TypeScriptParserMixin.parseObjectLike [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1174:21)
      at TypeScriptParserMixin.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)
      at TypeScriptParserMixin.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:675:23)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/plugins/typescript/index.ts:3853:20)
      at TypeScriptParserMixin.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)
      at TypeScriptParserMixin.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)
      at TypeScriptParserMixin.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)
      at TypeScriptParserMixin.parseMaybeConditional (node_modules/@babel/parser/src/parser/expression.ts:301:21)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/plugins/typescript/index.ts:3725:22)
      at TypeScriptParserMixin.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)
      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)
      at TypeScriptParserMixin.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)
      at TypeScriptParserMixin.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)
      at TypeScriptParserMixin.parseExpression [as parseReturnStatement] (node_modules/@babel/parser/src/parser/statement.ts:1110:28)
      at TypeScriptParserMixin.parseReturnStatement (node_modules/@babel/parser/src/parser/statement.ts:538:21)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)
      at TypeScriptParserMixin.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)
      at TypeScriptParserMixin.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)
      at TypeScriptParserMixin.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)
      at TypeScriptParserMixin.parseFunctionBody (node_modules/@babel/parser/src/parser/expression.ts:2585:10)
      at TypeScriptParserMixin.parseFunctionBodyAndFinish (node_modules/@babel/parser/src/plugins/typescript/index.ts:2645:20)
      at parseFunctionBodyAndFinish (node_modules/@babel/parser/src/parser/statement.ts:1690:12)
      at TypeScriptParserMixin.callback [as withSmartMixTopicForbiddingContext] (node_modules/@babel/parser/src/parser/expression.ts:3166:14)
      at TypeScriptParserMixin.withSmartMixTopicForbiddingContext [as parseFunction] (node_modules/@babel/parser/src/parser/statement.ts:1688:10)
      at TypeScriptParserMixin.parseFunction [as parseFunctionStatement] (node_modules/@babel/parser/src/parser/statement.ts:1075:17)
      at TypeScriptParserMixin.parseFunctionStatement (node_modules/@babel/parser/src/parser/statement.ts:520:21)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)
      at TypeScriptParserMixin.parseStatementListItem (node_modules/@babel/parser/src/parser/statement.ts:2630:17)
      at TypeScriptParserMixin.parseExportDeclaration (node_modules/@babel/parser/src/plugins/typescript/index.ts:3428:15)
      at TypeScriptParserMixin.parseExportDeclaration [as maybeParseExportDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:2546:31)
      at TypeScriptParserMixin.maybeParseExportDeclaration (node_modules/@babel/parser/src/parser/statement.ts:2427:29)
      at TypeScriptParserMixin.parseExport (node_modules/@babel/parser/src/plugins/typescript/index.ts:3085:22)
      at TypeScriptParserMixin.parseExport (node_modules/@babel/parser/src/parser/statement.ts:644:25)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseModuleItem] (node_modules/@babel/parser/src/parser/statement.ts:414:17)
      at TypeScriptParserMixin.parseModuleItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1438:16)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)
      at TypeScriptParserMixin.parseBlockBody [as parseProgram] (node_modules/@babel/parser/src/parser/statement.ts:229:10)
      at TypeScriptParserMixin.parseProgram [as parseTopLevel] (node_modules/@babel/parser/src/parser/statement.ts:203:25)
      at TypeScriptParserMixin.parseTopLevel (node_modules/@babel/parser/src/parser/index.ts:93:10)
      at TypeScriptParserMixin.parse (node_modules/@babel/parser/src/plugins/typescript/index.ts:4307:20)
      at parse (node_modules/@babel/parser/src/index.ts:92:38)
      at parser (node_modules/@babel/core/src/parser/index.ts:28:19)
          at parser.next (<anonymous>)
      at normalizeFile (node_modules/@babel/core/src/transformation/normalize-file.ts:49:24)
          at normalizeFile.next (<anonymous>)
      at run (node_modules/@babel/core/src/transformation/index.ts:40:36)

FAIL src/hooks/__tests__/useErrorRecovery.test.ts (11.05 s)
  ● Console

    console.log
      Setting up tests in default mode

      at log (src/test/test-setup.ts:522:11)

  ● useErrorRecovery › should provide error recovery functionality

    TypeError: Cannot read properties of undefined (reading 'data')

      118 |   // Enhanced query with proper enabled guard and error handling (following cart pattern)
      119 |   const {
    > 120 |     data: recoveryState = {
          |     ^
      121 |       activeRecoveries: 0,
      122 |       totalRecoveries: 0,
      123 |       errors: []

      at data (src/hooks/useErrorRecovery.ts:120:5)
      at src/hooks/__tests__/useErrorRecovery.test.ts:41:57
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useErrorRecovery.test.ts:41:34)

  ● useErrorRecovery › should recover from error successfully

    ReferenceError: createMockErrorRecoveryResult is not defined

      49 |
      50 |   it('should recover from error successfully', async () => {
    > 51 |     const mockResult = createMockErrorRecoveryResult({ message: 'Recovery successful' });
         |                        ^
      52 |     mockErrorRecoveryService.recoverFromError.mockResolvedValue(mockResult);
      53 |
      54 |     const { result } = renderHook(() => useErrorRecovery(), {

      at Object.createMockErrorRecoveryResult (src/hooks/__tests__/useErrorRecovery.test.ts:51:24)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useErrorRecovery › should handle recovery failure

    TypeError: Cannot read properties of undefined (reading 'data')

      118 |   // Enhanced query with proper enabled guard and error handling (following cart pattern)
      119 |   const {
    > 120 |     data: recoveryState = {
          |     ^
      121 |       activeRecoveries: 0,
      122 |       totalRecoveries: 0,
      123 |       errors: []

      at data (src/hooks/useErrorRecovery.ts:120:5)
      at src/hooks/__tests__/useErrorRecovery.test.ts:71:57
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useErrorRecovery.test.ts:71:34)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useErrorRecovery › should provide async recovery operation

    ReferenceError: createMockErrorRecoveryResult is not defined

      84 |
      85 |   it('should provide async recovery operation', async () => {
    > 86 |     const mockResult = createMockErrorRecoveryResult({ message: 'Recovery successful' });
         |                        ^
      87 |     mockErrorRecoveryService.recoverFromError.mockResolvedValue(mockResult);
      88 |
      89 |     const { result } = renderHook(() => useErrorRecovery(), {

      at Object.createMockErrorRecoveryResult (src/hooks/__tests__/useErrorRecovery.test.ts:86:24)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

PASS src/hooks/__tests__/hook-tests-summary.test.ts
  ● Console

    console.log
      Setting up tests in default mode

      at log (src/test/test-setup.ts:522:11)

FAIL src/hooks/__tests__/usePickupRescheduling.test.ts (45.843 s)
  ● Console

    console.log
      Setting up tests in default mode

      at log (src/test/test-setup.ts:522:11)

  ● usePickupRescheduling › should provide pickup rescheduling functionality

    TypeError: Cannot read properties of undefined (reading 'mutate')

      336 |   const reschedulePickup = useCallback(
      337 |     (request: RescheduleRequest) => reschedulePickupMutation.mutate(request),
    > 338 |     [reschedulePickupMutation.mutate]
          |                               ^
      339 |   );
      340 |   
      341 |   const reschedulePickupAsync = useCallback(

      at mutate (src/hooks/usePickupRescheduling.ts:338:31)
      at src/hooks/__tests__/usePickupRescheduling.test.ts:49:62
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/usePickupRescheduling.test.ts:49:34)

  ● usePickupRescheduling › should reschedule pickup successfully

    TypeError: Cannot read properties of undefined (reading 'mutate')

      336 |   const reschedulePickup = useCallback(
      337 |     (request: RescheduleRequest) => reschedulePickupMutation.mutate(request),
    > 338 |     [reschedulePickupMutation.mutate]
          |                               ^
      339 |   );
      340 |   
      341 |   const reschedulePickupAsync = useCallback(

      at mutate (src/hooks/usePickupRescheduling.ts:338:31)
      at src/hooks/__tests__/usePickupRescheduling.test.ts:62:62
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/usePickupRescheduling.test.ts:62:34)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● usePickupRescheduling › should handle rescheduling failure

    TypeError: Cannot read properties of undefined (reading 'mutate')

      336 |   const reschedulePickup = useCallback(
      337 |     (request: RescheduleRequest) => reschedulePickupMutation.mutate(request),
    > 338 |     [reschedulePickupMutation.mutate]
          |                               ^
      339 |   );
      340 |   
      341 |   const reschedulePickupAsync = useCallback(

      at mutate (src/hooks/usePickupRescheduling.ts:338:31)
      at src/hooks/__tests__/usePickupRescheduling.test.ts:79:62
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/usePickupRescheduling.test.ts:79:34)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● usePickupRescheduling › should provide async rescheduling operation

    TypeError: Cannot read properties of undefined (reading 'mutate')

      336 |   const reschedulePickup = useCallback(
      337 |     (request: RescheduleRequest) => reschedulePickupMutation.mutate(request),
    > 338 |     [reschedulePickupMutation.mutate]
          |                               ^
      339 |   );
      340 |   
      341 |   const reschedulePickupAsync = useCallback(

      at mutate (src/hooks/usePickupRescheduling.ts:338:31)
      at src/hooks/__tests__/usePickupRescheduling.test.ts:97:62
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/usePickupRescheduling.test.ts:97:34)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● usePickupRescheduling › when user is not authenticated › should handle authentication error in mutation

    TypeError: Cannot read properties of undefined (reading 'mutate')

      336 |   const reschedulePickup = useCallback(
      337 |     (request: RescheduleRequest) => reschedulePickupMutation.mutate(request),
    > 338 |     [reschedulePickupMutation.mutate]
          |                               ^
      339 |   );
      340 |   
      341 |   const reschedulePickupAsync = useCallback(

      at mutate (src/hooks/usePickupRescheduling.ts:338:31)
      at src/hooks/__tests__/usePickupRescheduling.test.ts:118:64
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/usePickupRescheduling.test.ts:118:36)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

FAIL src/hooks/__tests__/useNoShowHandling.test.ts (46.848 s)
  ● Console

    console.log
      Setting up tests in default mode

      at log (src/test/test-setup.ts:522:11)

  ● useNoShowHandling › should provide no-show handling functionality

    TypeError: Cannot read properties of undefined (reading 'mutate')

      293 |   const processNoShowOrders = useCallback(
      294 |     (config?: any) => processNoShowMutation.mutate(config),
    > 295 |     [processNoShowMutation.mutate]
          |                            ^
      296 |   );
      297 |   
      298 |   const processNoShowOrdersAsync = useCallback(

      at mutate (src/hooks/useNoShowHandling.ts:295:28)
      at src/hooks/__tests__/useNoShowHandling.test.ts:39:58
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNoShowHandling.test.ts:39:34)

  ● useNoShowHandling › should process no-show orders successfully

    TypeError: Cannot read properties of undefined (reading 'mutate')

      293 |   const processNoShowOrders = useCallback(
      294 |     (config?: any) => processNoShowMutation.mutate(config),
    > 295 |     [processNoShowMutation.mutate]
          |                            ^
      296 |   );
      297 |   
      298 |   const processNoShowOrdersAsync = useCallback(

      at mutate (src/hooks/useNoShowHandling.ts:295:28)
      at src/hooks/__tests__/useNoShowHandling.test.ts:68:58
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNoShowHandling.test.ts:68:34)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useNoShowHandling › should handle processing failure

    TypeError: Cannot read properties of undefined (reading 'mutate')

      293 |   const processNoShowOrders = useCallback(
      294 |     (config?: any) => processNoShowMutation.mutate(config),
    > 295 |     [processNoShowMutation.mutate]
          |                            ^
      296 |   );
      297 |   
      298 |   const processNoShowOrdersAsync = useCallback(

      at mutate (src/hooks/useNoShowHandling.ts:295:28)
      at src/hooks/__tests__/useNoShowHandling.test.ts:85:58
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNoShowHandling.test.ts:85:34)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useNoShowHandling › should check overdue orders successfully

    TypeError: Cannot read properties of undefined (reading 'mutate')

      293 |   const processNoShowOrders = useCallback(
      294 |     (config?: any) => processNoShowMutation.mutate(config),
    > 295 |     [processNoShowMutation.mutate]
          |                            ^
      296 |   );
      297 |   
      298 |   const processNoShowOrdersAsync = useCallback(

      at mutate (src/hooks/useNoShowHandling.ts:295:28)
      at src/hooks/__tests__/useNoShowHandling.test.ts:108:58
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNoShowHandling.test.ts:108:34)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useNoShowHandling › should provide async operations

    ReferenceError: createMockNoShowHandlingResult is not defined

      120 |
      121 |   it('should provide async operations', async () => {
    > 122 |     const mockResult = createMockNoShowHandlingResult({
          |                        ^
      123 |       message: 'No-show orders processed'
      124 |     });
      125 |     mockNoShowHandlingService.processNoShowOrders.mockResolvedValue(mockResult);

      at Object.createMockNoShowHandlingResult (src/hooks/__tests__/useNoShowHandling.test.ts:122:24)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useNoShowHandling › when user is not authenticated › should handle authentication error in mutation

    TypeError: Cannot read properties of undefined (reading 'mutate')

      293 |   const processNoShowOrders = useCallback(
      294 |     (config?: any) => processNoShowMutation.mutate(config),
    > 295 |     [processNoShowMutation.mutate]
          |                            ^
      296 |   );
      297 |   
      298 |   const processNoShowOrdersAsync = useCallback(

      at mutate (src/hooks/useNoShowHandling.ts:295:28)
      at src/hooks/__tests__/useNoShowHandling.test.ts:148:60
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNoShowHandling.test.ts:148:36)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

PASS src/hooks/__tests__/useCheckoutForm.simple.test.js
  ● Console

    console.log
      Setting up tests in default mode

      at log (src/test/test-setup.ts:522:11)

    console.log
      ✅ Basic useCheckoutForm functionality verified

      at Object.log (src/hooks/__tests__/useCheckoutForm.simple.test.js:79:9)

    console.log
      ✅ Form state isolation pattern confirmed

      at Object.log (src/hooks/__tests__/useCheckoutForm.simple.test.js:80:9)

    console.log
      ✅ Date validation logic working

      at Object.log (src/hooks/__tests__/useCheckoutForm.simple.test.js:81:9)

PASS src/hooks/__tests__/useCart.simple-race.test.js
  ● Console

    console.log
      Setting up tests in default mode

      at log (src/test/test-setup.ts:522:11)

FAIL src/hooks/__tests__/useRealtime.test.ts (46.963 s)
  ● Console

    console.log
      Setting up tests in default mode

      at log (src/test/test-setup.ts:522:11)

  ● useRealtime hooks › when user is authenticated › useRealtime › should initialize with proper status

    TypeError: Cannot read properties of undefined (reading 'data')

      87 |   // Enhanced query with proper enabled guard and error handling (following cart pattern)
      88 |   const {
    > 89 |     data: status = {
         |     ^
      90 |       totalSubscriptions: 0,
      91 |       subscriptions: [],
      92 |       allConnected: false,

      at data (src/hooks/useRealtime.ts:89:5)
      at src/hooks/__tests__/useRealtime.test.ts:101:56
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:101:38)

  ● useRealtime hooks › when user is authenticated › useRealtime › should provide realtime operations

    TypeError: Cannot read properties of undefined (reading 'data')

      87 |   // Enhanced query with proper enabled guard and error handling (following cart pattern)
      88 |   const {
    > 89 |     data: status = {
         |     ^
      90 |       totalSubscriptions: 0,
      91 |       subscriptions: [],
      92 |       allConnected: false,

      at data (src/hooks/useRealtime.ts:89:5)
      at src/hooks/__tests__/useRealtime.test.ts:112:56
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:112:38)

  ● useRealtime hooks › when user is authenticated › useRealtime › should initialize subscriptions successfully

    TypeError: Cannot read properties of undefined (reading 'data')

      87 |   // Enhanced query with proper enabled guard and error handling (following cart pattern)
      88 |   const {
    > 89 |     data: status = {
         |     ^
      90 |       totalSubscriptions: 0,
      91 |       subscriptions: [],
      92 |       allConnected: false,

      at data (src/hooks/useRealtime.ts:89:5)
      at src/hooks/__tests__/useRealtime.test.ts:129:56
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:129:38)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useRealtime hooks › when user is authenticated › useRealtime › should cleanup subscriptions successfully

    TypeError: Cannot read properties of undefined (reading 'data')

      87 |   // Enhanced query with proper enabled guard and error handling (following cart pattern)
      88 |   const {
    > 89 |     data: status = {
         |     ^
      90 |       totalSubscriptions: 0,
      91 |       subscriptions: [],
      92 |       allConnected: false,

      at data (src/hooks/useRealtime.ts:89:5)
      at src/hooks/__tests__/useRealtime.test.ts:163:56
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:163:38)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useRealtime hooks › when user is authenticated › useRealtime › should refresh status successfully

    TypeError: Cannot read properties of undefined (reading 'data')

      87 |   // Enhanced query with proper enabled guard and error handling (following cart pattern)
      88 |   const {
    > 89 |     data: status = {
         |     ^
      90 |       totalSubscriptions: 0,
      91 |       subscriptions: [],
      92 |       allConnected: false,

      at data (src/hooks/useRealtime.ts:89:5)
      at src/hooks/__tests__/useRealtime.test.ts:180:56
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:180:38)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useRealtime hooks › when user is authenticated › useRealtime › should force refresh data

    TypeError: Cannot read properties of undefined (reading 'data')

      87 |   // Enhanced query with proper enabled guard and error handling (following cart pattern)
      88 |   const {
    > 89 |     data: status = {
         |     ^
      90 |       totalSubscriptions: 0,
      91 |       subscriptions: [],
      92 |       allConnected: false,

      at data (src/hooks/useRealtime.ts:89:5)
      at src/hooks/__tests__/useRealtime.test.ts:196:56
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:196:38)

  ● useRealtime hooks › when user is authenticated › useRealtime › should provide async operations

    TypeError: Cannot read properties of undefined (reading 'data')

      87 |   // Enhanced query with proper enabled guard and error handling (following cart pattern)
      88 |   const {
    > 89 |     data: status = {
         |     ^
      90 |       totalSubscriptions: 0,
      91 |       subscriptions: [],
      92 |       allConnected: false,

      at data (src/hooks/useRealtime.ts:89:5)
      at src/hooks/__tests__/useRealtime.test.ts:209:56
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:209:38)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useRealtime hooks › when user is authenticated › useRealtime › should provide loading states

    TypeError: Cannot read properties of undefined (reading 'data')

      87 |   // Enhanced query with proper enabled guard and error handling (following cart pattern)
      88 |   const {
    > 89 |     data: status = {
         |     ^
      90 |       totalSubscriptions: 0,
      91 |       subscriptions: [],
      92 |       allConnected: false,

      at data (src/hooks/useRealtime.ts:89:5)
      at src/hooks/__tests__/useRealtime.test.ts:224:56
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:224:38)

  ● useRealtime hooks › when user is authenticated › useRealtime › should provide status information

    TypeError: Cannot read properties of undefined (reading 'data')

      87 |   // Enhanced query with proper enabled guard and error handling (following cart pattern)
      88 |   const {
    > 89 |     data: status = {
         |     ^
      90 |       totalSubscriptions: 0,
      91 |       subscriptions: [],
      92 |       allConnected: false,

      at data (src/hooks/useRealtime.ts:89:5)
      at src/hooks/__tests__/useRealtime.test.ts:237:56
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:237:38)

  ● useRealtime hooks › when user is authenticated › useRealtime › should generate correct query key

    TypeError: Cannot read properties of undefined (reading 'data')

      87 |   // Enhanced query with proper enabled guard and error handling (following cart pattern)
      88 |   const {
    > 89 |     data: status = {
         |     ^
      90 |       totalSubscriptions: 0,
      91 |       subscriptions: [],
      92 |       allConnected: false,

      at data (src/hooks/useRealtime.ts:89:5)
      at src/hooks/__tests__/useRealtime.test.ts:246:56
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:246:38)

  ● useRealtime hooks › when user is authenticated › useRealtimeNotifications › should initialize with default values

    TypeError: Cannot read properties of undefined (reading 'lists')

      443 |   
      444 |   // Query for notification history using centralized factory
    > 445 |   const notificationQueryKey = user?.id ? notificationKeys.lists(user.id) : notificationKeys.all();
          |                                                            ^
      446 |   
      447 |   const {
      448 |     data: notificationHistory = [],

      at lists (src/hooks/useRealtime.ts:445:60)
      at src/hooks/__tests__/useRealtime.test.ts:257:69
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:257:38)

  ● useRealtime hooks › when user is authenticated › useRealtimeNotifications › should setup event listeners

    TypeError: Cannot read properties of undefined (reading 'lists')

      443 |   
      444 |   // Query for notification history using centralized factory
    > 445 |   const notificationQueryKey = user?.id ? notificationKeys.lists(user.id) : notificationKeys.all();
          |                                                            ^
      446 |   
      447 |   const {
      448 |     data: notificationHistory = [],

      at lists (src/hooks/useRealtime.ts:445:60)
      at src/hooks/__tests__/useRealtime.test.ts:271:50
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:271:19)

  ● useRealtime hooks › when user is authenticated › useRealtimeNotifications › should cleanup event listeners on unmount

    TypeError: Cannot read properties of undefined (reading 'lists')

      443 |   
      444 |   // Query for notification history using centralized factory
    > 445 |   const notificationQueryKey = user?.id ? notificationKeys.lists(user.id) : notificationKeys.all();
          |                                                            ^
      446 |   
      447 |   const {
      448 |     data: notificationHistory = [],

      at lists (src/hooks/useRealtime.ts:445:60)
      at src/hooks/__tests__/useRealtime.test.ts:284:70
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:284:39)

  ● useRealtime hooks › when user is authenticated › useRealtimeNotifications › should provide loading states

    TypeError: Cannot read properties of undefined (reading 'lists')

      443 |   
      444 |   // Query for notification history using centralized factory
    > 445 |   const notificationQueryKey = user?.id ? notificationKeys.lists(user.id) : notificationKeys.all();
          |                                                            ^
      446 |   
      447 |   const {
      448 |     data: notificationHistory = [],

      at lists (src/hooks/useRealtime.ts:445:60)
      at src/hooks/__tests__/useRealtime.test.ts:297:69
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:297:38)

  ● useRealtime hooks › when user is authenticated › useRealtimeNotifications › should generate correct notification query key

    TypeError: Cannot read properties of undefined (reading 'lists')

      443 |   
      444 |   // Query for notification history using centralized factory
    > 445 |   const notificationQueryKey = user?.id ? notificationKeys.lists(user.id) : notificationKeys.all();
          |                                                            ^
      446 |   
      447 |   const {
      448 |     data: notificationHistory = [],

      at lists (src/hooks/useRealtime.ts:445:60)
      at src/hooks/__tests__/useRealtime.test.ts:305:69
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:305:38)

  ● useRealtime hooks › when user is not authenticated › useRealtime › should return authentication error state

    TypeError: Cannot read properties of undefined (reading 'data')

      87 |   // Enhanced query with proper enabled guard and error handling (following cart pattern)
      88 |   const {
    > 89 |     data: status = {
         |     ^
      90 |       totalSubscriptions: 0,
      91 |       subscriptions: [],
      92 |       allConnected: false,

      at data (src/hooks/useRealtime.ts:89:5)
      at src/hooks/__tests__/useRealtime.test.ts:326:56
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:326:38)

  ● useRealtime hooks › when user is not authenticated › useRealtime › should block realtime operations when not authenticated

    TypeError: Cannot read properties of undefined (reading 'data')

      87 |   // Enhanced query with proper enabled guard and error handling (following cart pattern)
      88 |   const {
    > 89 |     data: status = {
         |     ^
      90 |       totalSubscriptions: 0,
      91 |       subscriptions: [],
      92 |       allConnected: false,

      at data (src/hooks/useRealtime.ts:89:5)
      at src/hooks/__tests__/useRealtime.test.ts:339:56
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:339:38)

  ● useRealtime hooks › when user is not authenticated › useRealtime › should return error for async operations when not authenticated

    TypeError: Cannot read properties of undefined (reading 'data')

      87 |   // Enhanced query with proper enabled guard and error handling (following cart pattern)
      88 |   const {
    > 89 |     data: status = {
         |     ^
      90 |       totalSubscriptions: 0,
      91 |       subscriptions: [],
      92 |       allConnected: false,

      at data (src/hooks/useRealtime.ts:89:5)
      at src/hooks/__tests__/useRealtime.test.ts:357:56
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:357:38)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useRealtime hooks › when user is not authenticated › useRealtimeNotifications › should return authentication error state

    TypeError: Cannot read properties of undefined (reading 'all')

      443 |   
      444 |   // Query for notification history using centralized factory
    > 445 |   const notificationQueryKey = user?.id ? notificationKeys.lists(user.id) : notificationKeys.all();
          |                                                                                              ^
      446 |   
      447 |   const {
      448 |     data: notificationHistory = [],

      at all (src/hooks/useRealtime.ts:445:94)
      at src/hooks/__tests__/useRealtime.test.ts:376:69
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:376:38)

  ● useRealtime hooks › when user is not authenticated › useRealtimeNotifications › should not setup event listeners when not authenticated

    TypeError: Cannot read properties of undefined (reading 'all')

      443 |   
      444 |   // Query for notification history using centralized factory
    > 445 |   const notificationQueryKey = user?.id ? notificationKeys.lists(user.id) : notificationKeys.all();
          |                                                                                              ^
      446 |   
      447 |   const {
      448 |     data: notificationHistory = [],

      at all (src/hooks/useRealtime.ts:445:94)
      at src/hooks/__tests__/useRealtime.test.ts:390:50
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useRealtime.test.ts:390:19)

FAIL src/hooks/__tests__/useStockValidation.test.ts (46.583 s)
  ● Console

    console.log
      Setting up tests in default mode

      at log (src/test/test-setup.ts:522:11)

  ● useStockValidation › should provide stock validation functionality

    TypeError: Cannot read properties of undefined (reading 'data')

      92 |   // ✅ ARCHITECTURAL PATTERN: Use React Query's enabled guard
      93 |   const {
    > 94 |     data: stockData = [],
         |     ^
      95 |     isLoading,
      96 |     error: queryError,
      97 |     refetch: refetchStock

      at data (src/hooks/useStockValidation.ts:94:5)
      at src/hooks/__tests__/useStockValidation.test.ts:62:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useStockValidation.test.ts:62:34)

  ● useStockValidation › should validate stock successfully

    TypeError: Cannot read properties of undefined (reading 'data')

      92 |   // ✅ ARCHITECTURAL PATTERN: Use React Query's enabled guard
      93 |   const {
    > 94 |     data: stockData = [],
         |     ^
      95 |     isLoading,
      96 |     error: queryError,
      97 |     refetch: refetchStock

      at data (src/hooks/useStockValidation.ts:94:5)
      at src/hooks/__tests__/useStockValidation.test.ts:75:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useStockValidation.test.ts:75:34)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useStockValidation › should handle insufficient stock

    TypeError: Cannot read properties of undefined (reading 'data')

      92 |   // ✅ ARCHITECTURAL PATTERN: Use React Query's enabled guard
      93 |   const {
    > 94 |     data: stockData = [],
         |     ^
      95 |     isLoading,
      96 |     error: queryError,
      97 |     refetch: refetchStock

      at data (src/hooks/useStockValidation.ts:94:5)
      at src/hooks/__tests__/useStockValidation.test.ts:90:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useStockValidation.test.ts:90:34)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useStockValidation › should provide stock information functions

    TypeError: Cannot read properties of undefined (reading 'data')

      92 |   // ✅ ARCHITECTURAL PATTERN: Use React Query's enabled guard
      93 |   const {
    > 94 |     data: stockData = [],
         |     ^
      95 |     isLoading,
      96 |     error: queryError,
      97 |     refetch: refetchStock

      at data (src/hooks/useStockValidation.ts:94:5)
      at src/hooks/__tests__/useStockValidation.test.ts:104:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useStockValidation.test.ts:104:34)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useStockValidation › should provide stock status messages

    TypeError: Cannot read properties of undefined (reading 'data')

      92 |   // ✅ ARCHITECTURAL PATTERN: Use React Query's enabled guard
      93 |   const {
    > 94 |     data: stockData = [],
         |     ^
      95 |     isLoading,
      96 |     error: queryError,
      97 |     refetch: refetchStock

      at data (src/hooks/useStockValidation.ts:94:5)
      at src/hooks/__tests__/useStockValidation.test.ts:123:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useStockValidation.test.ts:123:34)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useStockValidation › when user is not authenticated › should return authentication error state

    TypeError: Cannot read properties of undefined (reading 'data')

      92 |   // ✅ ARCHITECTURAL PATTERN: Use React Query's enabled guard
      93 |   const {
    > 94 |     data: stockData = [],
         |     ^
      95 |     isLoading,
      96 |     error: queryError,
      97 |     refetch: refetchStock

      at data (src/hooks/useStockValidation.ts:94:5)
      at src/hooks/__tests__/useStockValidation.test.ts:145:61
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useStockValidation.test.ts:145:36)

  ● useStockValidation › when user is not authenticated › should provide safe no-op functions

    TypeError: Cannot read properties of undefined (reading 'data')

      92 |   // ✅ ARCHITECTURAL PATTERN: Use React Query's enabled guard
      93 |   const {
    > 94 |     data: stockData = [],
         |     ^
      95 |     isLoading,
      96 |     error: queryError,
      97 |     refetch: refetchStock

      at data (src/hooks/useStockValidation.ts:94:5)
      at src/hooks/__tests__/useStockValidation.test.ts:155:61
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useStockValidation.test.ts:155:36)

FAIL src/hooks/__tests__/simple.test.ts
  ● Test suite failed to run

    Jest encountered an unexpected token

    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.

    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.

    By default "node_modules" folder is ignored by transformers.

    Here's what you can do:
     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.
     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript
     • To have some of your "node_modules" files transformed, you can specify a custom "transformIgnorePatterns" in your config.
     • If you need a custom transformation specify a "transform" option in your config.
     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the "moduleNameMapper" config option.

    You'll find more details and examples of these config options in the docs:
    https://jestjs.io/docs/configuration
    For information about custom transformations, see:
    https://jestjs.io/docs/code-transformation

    Details:

    SyntaxError: /Users/andrewkhoh/Documents/test-fixes-core-hooks/src/test/contracts/hook.contracts.ts: Unexpected token (355:0)

      353 |       
      354 |       return validated;
    > 355 | =======
          | ^
      356 |  * Comprehensive validation layer for all React hooks to ensure
      357 |  * data consistency, type safety, and contract compliance.
      358 |  *

      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)
      at TypeScriptParserMixin.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)
      at TypeScriptParserMixin.raise [as unexpected] (node_modules/@babel/parser/src/tokenizer/index.ts:1543:16)
      at TypeScriptParserMixin.unexpected [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1350:16)
      at TypeScriptParserMixin.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)
      at TypeScriptParserMixin.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:675:23)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/plugins/typescript/index.ts:3853:20)
      at TypeScriptParserMixin.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)
      at TypeScriptParserMixin.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)
      at TypeScriptParserMixin.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)
      at TypeScriptParserMixin.parseMaybeConditional (node_modules/@babel/parser/src/parser/expression.ts:301:21)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/plugins/typescript/index.ts:3725:22)
      at TypeScriptParserMixin.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)
      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)
      at TypeScriptParserMixin.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)
      at TypeScriptParserMixin.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)
      at TypeScriptParserMixin.parseExpression (node_modules/@babel/parser/src/parser/statement.ts:683:23)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)
      at TypeScriptParserMixin.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)
      at TypeScriptParserMixin.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)
      at TypeScriptParserMixin.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)
      at TypeScriptParserMixin.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)
      at TypeScriptParserMixin.parseArrowExpression [as parseParenAndDistinguishExpression] (node_modules/@babel/parser/src/parser/expression.ts:1837:12)
      at TypeScriptParserMixin.parseParenAndDistinguishExpression [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1162:21)
      at TypeScriptParserMixin.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)
      at TypeScriptParserMixin.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:675:23)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/plugins/typescript/index.ts:3853:20)
      at TypeScriptParserMixin.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)
      at TypeScriptParserMixin.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)
      at TypeScriptParserMixin.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)
      at TypeScriptParserMixin.parseMaybeConditional (node_modules/@babel/parser/src/parser/expression.ts:301:21)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/plugins/typescript/index.ts:3725:22)
      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)
      at TypeScriptParserMixin.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)
      at TypeScriptParserMixin.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)
      at TypeScriptParserMixin.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)
      at TypeScriptParserMixin.parseMaybeAssignAllowInOrVoidPattern [as parseObjectProperty] (node_modules/@babel/parser/src/parser/expression.ts:2315:16)
      at TypeScriptParserMixin.parseObjectProperty (node_modules/@babel/parser/src/parser/expression.ts:2378:12)
      at TypeScriptParserMixin.parseObjPropValue (node_modules/@babel/parser/src/plugins/typescript/index.ts:3636:20)
      at TypeScriptParserMixin.parseObjPropValue [as parsePropertyDefinition] (node_modules/@babel/parser/src/parser/expression.ts:2218:17)
      at TypeScriptParserMixin.parsePropertyDefinition [as parseObjectLike] (node_modules/@babel/parser/src/parser/expression.ts:2085:21)
      at TypeScriptParserMixin.parseObjectLike [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1174:21)
      at TypeScriptParserMixin.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)
      at TypeScriptParserMixin.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:675:23)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/plugins/typescript/index.ts:3853:20)
      at TypeScriptParserMixin.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)
      at TypeScriptParserMixin.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)
      at TypeScriptParserMixin.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)
      at TypeScriptParserMixin.parseMaybeConditional (node_modules/@babel/parser/src/parser/expression.ts:301:21)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/plugins/typescript/index.ts:3725:22)
      at TypeScriptParserMixin.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)
      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)
      at TypeScriptParserMixin.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)
      at TypeScriptParserMixin.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)
      at TypeScriptParserMixin.parseExpression [as parseReturnStatement] (node_modules/@babel/parser/src/parser/statement.ts:1110:28)
      at TypeScriptParserMixin.parseReturnStatement (node_modules/@babel/parser/src/parser/statement.ts:538:21)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)
      at TypeScriptParserMixin.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)
      at TypeScriptParserMixin.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)
      at TypeScriptParserMixin.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)
      at TypeScriptParserMixin.parseFunctionBody (node_modules/@babel/parser/src/parser/expression.ts:2585:10)
      at TypeScriptParserMixin.parseFunctionBodyAndFinish (node_modules/@babel/parser/src/plugins/typescript/index.ts:2645:20)
      at parseFunctionBodyAndFinish (node_modules/@babel/parser/src/parser/statement.ts:1690:12)
      at TypeScriptParserMixin.callback [as withSmartMixTopicForbiddingContext] (node_modules/@babel/parser/src/parser/expression.ts:3166:14)
      at TypeScriptParserMixin.withSmartMixTopicForbiddingContext [as parseFunction] (node_modules/@babel/parser/src/parser/statement.ts:1688:10)
      at TypeScriptParserMixin.parseFunction [as parseFunctionStatement] (node_modules/@babel/parser/src/parser/statement.ts:1075:17)
      at TypeScriptParserMixin.parseFunctionStatement (node_modules/@babel/parser/src/parser/statement.ts:520:21)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)
      at TypeScriptParserMixin.parseStatementListItem (node_modules/@babel/parser/src/parser/statement.ts:2630:17)
      at TypeScriptParserMixin.parseExportDeclaration (node_modules/@babel/parser/src/plugins/typescript/index.ts:3428:15)
      at TypeScriptParserMixin.parseExportDeclaration [as maybeParseExportDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:2546:31)
      at TypeScriptParserMixin.maybeParseExportDeclaration (node_modules/@babel/parser/src/parser/statement.ts:2427:29)
      at TypeScriptParserMixin.parseExport (node_modules/@babel/parser/src/plugins/typescript/index.ts:3085:22)
      at TypeScriptParserMixin.parseExport (node_modules/@babel/parser/src/parser/statement.ts:644:25)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3183:20)
      at TypeScriptParserMixin.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)
      at TypeScriptParserMixin.parseStatementLike [as parseModuleItem] (node_modules/@babel/parser/src/parser/statement.ts:414:17)
      at TypeScriptParserMixin.parseModuleItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1438:16)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)
      at TypeScriptParserMixin.parseBlockBody [as parseProgram] (node_modules/@babel/parser/src/parser/statement.ts:229:10)
      at TypeScriptParserMixin.parseProgram [as parseTopLevel] (node_modules/@babel/parser/src/parser/statement.ts:203:25)
      at TypeScriptParserMixin.parseTopLevel (node_modules/@babel/parser/src/parser/index.ts:93:10)
      at TypeScriptParserMixin.parse (node_modules/@babel/parser/src/plugins/typescript/index.ts:4307:20)
      at parse (node_modules/@babel/parser/src/index.ts:92:38)
      at parser (node_modules/@babel/core/src/parser/index.ts:28:19)
          at parser.next (<anonymous>)
      at normalizeFile (node_modules/@babel/core/src/transformation/normalize-file.ts:49:24)
          at normalizeFile.next (<anonymous>)
      at run (node_modules/@babel/core/src/transformation/index.ts:40:36)

FAIL src/hooks/__tests__/useNotifications.test.ts (47.211 s)
  ● Console

    console.log
      Setting up tests in default mode

      at log (src/test/test-setup.ts:522:11)

    console.warn
      useNotifications: No authenticated user found

      415 |       return;
      416 |     }
    > 417 |     originalWarn(...args);
          |                 ^
      418 |   };
      419 |   
      420 |   console.error = (...args: any[]) => {

      at console.apply [as warn] (src/test/base-setup.ts:417:17)
      at warn (src/hooks/useNotifications.ts:86:13)
      at src/hooks/__tests__/useNotifications.test.ts:316:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10257:13)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNotifications.test.ts:316:36)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

    console.warn
      useNotifications: No authenticated user found

      415 |       return;
      416 |     }
    > 417 |     originalWarn(...args);
          |                 ^
      418 |   };
      419 |   
      420 |   console.error = (...args: any[]) => {

      at console.apply [as warn] (src/test/base-setup.ts:417:17)
      at warn (src/hooks/useNotifications.ts:86:13)
      at src/hooks/__tests__/useNotifications.test.ts:330:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10257:13)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNotifications.test.ts:330:36)

  ● useNotifications › when user is authenticated › should initialize with default values

    TypeError: Cannot read properties of undefined (reading 'mutate')

      495 |   const sendNotification = useCallback(
      496 |     (request: NotificationRequest) => sendNotificationMutation.mutate(request),
    > 497 |     [sendNotificationMutation.mutate]
          |                               ^
      498 |   );
      499 |   
      500 |   const sendNotificationAsync = useCallback(

      at mutate (src/hooks/useNotifications.ts:497:31)
      at src/hooks/__tests__/useNotifications.test.ts:75:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNotifications.test.ts:75:36)

  ● useNotifications › when user is authenticated › should provide notification functions

    TypeError: Cannot read properties of undefined (reading 'mutate')

      495 |   const sendNotification = useCallback(
      496 |     (request: NotificationRequest) => sendNotificationMutation.mutate(request),
    > 497 |     [sendNotificationMutation.mutate]
          |                               ^
      498 |   );
      499 |   
      500 |   const sendNotificationAsync = useCallback(

      at mutate (src/hooks/useNotifications.ts:497:31)
      at src/hooks/__tests__/useNotifications.test.ts:88:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNotifications.test.ts:88:36)

  ● useNotifications › when user is authenticated › should provide query utilities

    TypeError: Cannot read properties of undefined (reading 'mutate')

      495 |   const sendNotification = useCallback(
      496 |     (request: NotificationRequest) => sendNotificationMutation.mutate(request),
    > 497 |     [sendNotificationMutation.mutate]
          |                               ^
      498 |   );
      499 |   
      500 |   const sendNotificationAsync = useCallback(

      at mutate (src/hooks/useNotifications.ts:497:31)
      at src/hooks/__tests__/useNotifications.test.ts:101:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNotifications.test.ts:101:36)

  ● useNotifications › when user is authenticated › should send notification successfully

    ReferenceError: createMockNotificationResult is not defined

      108 |
      109 |     it('should send notification successfully', async () => {
    > 110 |       const mockResult = createMockNotificationResult();
          |                          ^
      111 |       mockNotificationService.sendNotification.mockResolvedValue(mockResult);
      112 |
      113 |       const { result } = renderHook(() => useNotifications(), {

      at Object.createMockNotificationResult (src/hooks/__tests__/useNotifications.test.ts:110:26)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useNotifications › when user is authenticated › should handle send notification failure

    TypeError: Cannot read properties of undefined (reading 'mutate')

      495 |   const sendNotification = useCallback(
      496 |     (request: NotificationRequest) => sendNotificationMutation.mutate(request),
    > 497 |     [sendNotificationMutation.mutate]
          |                               ^
      498 |   );
      499 |   
      500 |   const sendNotificationAsync = useCallback(

      at mutate (src/hooks/useNotifications.ts:497:31)
      at src/hooks/__tests__/useNotifications.test.ts:129:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNotifications.test.ts:129:36)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useNotifications › when user is authenticated › should send notification async successfully

    ReferenceError: createMockNotificationResult is not defined

      141 |
      142 |     it('should send notification async successfully', async () => {
    > 143 |       const mockResult = createMockNotificationResult();
          |                          ^
      144 |       mockNotificationService.sendNotification.mockResolvedValue(mockResult);
      145 |
      146 |       const { result } = renderHook(() => useNotifications(), {

      at Object.createMockNotificationResult (src/hooks/__tests__/useNotifications.test.ts:143:26)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useNotifications › when user is authenticated › should handle invalid notification request

    TypeError: Cannot read properties of undefined (reading 'mutate')

      495 |   const sendNotification = useCallback(
      496 |     (request: NotificationRequest) => sendNotificationMutation.mutate(request),
    > 497 |     [sendNotificationMutation.mutate]
          |                               ^
      498 |   );
      499 |   
      500 |   const sendNotificationAsync = useCallback(

      at mutate (src/hooks/useNotifications.ts:497:31)
      at src/hooks/__tests__/useNotifications.test.ts:160:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNotifications.test.ts:160:36)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useNotifications › when user is authenticated › should handle rate limiting error

    TypeError: Cannot read properties of undefined (reading 'mutate')

      495 |   const sendNotification = useCallback(
      496 |     (request: NotificationRequest) => sendNotificationMutation.mutate(request),
    > 497 |     [sendNotificationMutation.mutate]
          |                               ^
      498 |   );
      499 |   
      500 |   const sendNotificationAsync = useCallback(

      at mutate (src/hooks/useNotifications.ts:497:31)
      at src/hooks/__tests__/useNotifications.test.ts:176:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNotifications.test.ts:176:36)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useNotifications › when user is authenticated › should update preferences successfully

    TypeError: Cannot read properties of undefined (reading 'mutate')

      495 |   const sendNotification = useCallback(
      496 |     (request: NotificationRequest) => sendNotificationMutation.mutate(request),
    > 497 |     [sendNotificationMutation.mutate]
          |                               ^
      498 |   );
      499 |   
      500 |   const sendNotificationAsync = useCallback(

      at mutate (src/hooks/useNotifications.ts:497:31)
      at src/hooks/__tests__/useNotifications.test.ts:192:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNotifications.test.ts:192:36)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useNotifications › when user is authenticated › should handle update preferences failure

    TypeError: Cannot read properties of undefined (reading 'mutate')

      495 |   const sendNotification = useCallback(
      496 |     (request: NotificationRequest) => sendNotificationMutation.mutate(request),
    > 497 |     [sendNotificationMutation.mutate]
          |                               ^
      498 |   );
      499 |   
      500 |   const sendNotificationAsync = useCallback(

      at mutate (src/hooks/useNotifications.ts:497:31)
      at src/hooks/__tests__/useNotifications.test.ts:204:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNotifications.test.ts:204:36)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useNotifications › when user is authenticated › should update preferences async successfully

    TypeError: Cannot read properties of undefined (reading 'mutate')

      495 |   const sendNotification = useCallback(
      496 |     (request: NotificationRequest) => sendNotificationMutation.mutate(request),
    > 497 |     [sendNotificationMutation.mutate]
          |                               ^
      498 |   );
      499 |   
      500 |   const sendNotificationAsync = useCallback(

      at mutate (src/hooks/useNotifications.ts:497:31)
      at src/hooks/__tests__/useNotifications.test.ts:220:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNotifications.test.ts:220:36)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useNotifications › when user is authenticated › should handle unauthorized error during send

    TypeError: Cannot read properties of undefined (reading 'mutate')

      495 |   const sendNotification = useCallback(
      496 |     (request: NotificationRequest) => sendNotificationMutation.mutate(request),
    > 497 |     [sendNotificationMutation.mutate]
          |                               ^
      498 |   );
      499 |   
      500 |   const sendNotificationAsync = useCallback(

      at mutate (src/hooks/useNotifications.ts:497:31)
      at src/hooks/__tests__/useNotifications.test.ts:233:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNotifications.test.ts:233:36)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useNotifications › when user is authenticated › should handle network error during preferences update

    TypeError: Cannot read properties of undefined (reading 'mutate')

      495 |   const sendNotification = useCallback(
      496 |     (request: NotificationRequest) => sendNotificationMutation.mutate(request),
    > 497 |     [sendNotificationMutation.mutate]
          |                               ^
      498 |   );
      499 |   
      500 |   const sendNotificationAsync = useCallback(

      at mutate (src/hooks/useNotifications.ts:497:31)
      at src/hooks/__tests__/useNotifications.test.ts:249:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNotifications.test.ts:249:36)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useNotifications › when user is authenticated › should generate correct query keys

    TypeError: Cannot read properties of undefined (reading 'mutate')

      495 |   const sendNotification = useCallback(
      496 |     (request: NotificationRequest) => sendNotificationMutation.mutate(request),
    > 497 |     [sendNotificationMutation.mutate]
          |                               ^
      498 |   );
      499 |   
      500 |   const sendNotificationAsync = useCallback(

      at mutate (src/hooks/useNotifications.ts:497:31)
      at src/hooks/__tests__/useNotifications.test.ts:264:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNotifications.test.ts:264:36)

  ● useNotifications › when user is authenticated › should provide loading states

    TypeError: Cannot read properties of undefined (reading 'mutate')

      495 |   const sendNotification = useCallback(
      496 |     (request: NotificationRequest) => sendNotificationMutation.mutate(request),
    > 497 |     [sendNotificationMutation.mutate]
          |                               ^
      498 |   );
      499 |   
      500 |   const sendNotificationAsync = useCallback(

      at mutate (src/hooks/useNotifications.ts:497:31)
      at src/hooks/__tests__/useNotifications.test.ts:276:59
      at hookToRender (node_modules/@testing-library/react-native/src/render-hook.tsx:40:26)
      at Object.react-stack-bottom-frame (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12679:20)
      at renderWithHooks (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:3622:25)
      at updateFunctionComponent (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:5635:19)
      at beginWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:7086:18)
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:540:16)
      at performUnitOfWork (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10917:22)
      at workLoopSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10763:41)
      at renderRootSync (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10744:11)
      at performWorkOnRoot (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10299:39)
      at performWorkOnRootViaSchedulerTask (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1879:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:862:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:1151:10)
      at actImplementation (node_modules/@testing-library/react-native/src/act.ts:30:25)
      at renderWithAct (node_modules/@testing-library/react-native/src/render-act.ts:13:11)
      at renderInternal (node_modules/@testing-library/react-native/src/render.tsx:69:33)
      at renderHook (node_modules/@testing-library/react-native/src/render-hook.tsx:49:66)
      at Object.<anonymous> (src/hooks/__tests__/useNotifications.test.ts:276:36)

FAIL src/hooks/__tests__/useAuth.race.simple.test.tsx (55.411 s)
  ● Console

    console.log
      Setting up tests in default mode

      at log (src/test/test-setup.ts:522:11)

    console.log
      Testing imports: { useCurrentUser: 'function' }

      at Object.log (src/hooks/__tests__/useAuth.race.simple.test.tsx:99:15)

  ● useAuth Race Condition Tests (Simplified - Real React Query) › 🔧 Setup Verification › should initialize useCurrentUser hook without hanging

    expect(received).toBeDefined()

    Received: undefined

      104 |
      105 |       // Should complete initialization within reasonable time
    > 106 |       await waitFor(() => {
          |                    ^
      107 |         expect(result.current).toBeDefined();
      108 |         expect(result.current.data).toBeDefined();
      109 |       }, { timeout: 3000 });

      at Object.<anonymous> (src/hooks/__tests__/useAuth.race.simple.test.tsx:106:20)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useAuth Race Condition Tests (Simplified - Real React Query) › 🕵️ Session Validation Races (Simplified) › should handle concurrent current user queries

    Cannot read properties of undefined (reading 'isLoading')

      121 |
      122 |       // Wait for both to load
    > 123 |       await waitFor(() => {
          |                    ^
      124 |         expect(user1.current.isLoading).toBe(false);
      125 |         expect(user2.current.isLoading).toBe(false);
      126 |       });

      at Object.<anonymous> (src/hooks/__tests__/useAuth.race.simple.test.tsx:123:20)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useAuth Race Condition Tests (Simplified - Real React Query) › 🕵️ Session Validation Races (Simplified) › should handle concurrent user query refetches

    Cannot read properties of undefined (reading 'isLoading')

      135 |       const { result: user2 } = renderHook(() => useCurrentUser(), { wrapper });
      136 |
    > 137 |       await waitFor(() => {
          |                    ^
      138 |         expect(user1.current.isLoading).toBe(false);
      139 |         expect(user2.current.isLoading).toBe(false);
      140 |       });

      at Object.<anonymous> (src/hooks/__tests__/useAuth.race.simple.test.tsx:137:20)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

  ● useAuth Race Condition Tests (Simplified - Real React Query) › 🕵️ Session Validation Races (Simplified) › should handle user query errors during concurrent operations

    Cannot read properties of undefined (reading 'isLoading')

      174 |
      175 |       // Wait for queries to complete (should error)
    > 176 |       await waitFor(() => {
          |                    ^
      177 |         expect(user1.current.isLoading).toBe(false);
      178 |         expect(user2.current.isLoading).toBe(false);
      179 |       }, { timeout: 5000 });

      at Object.<anonymous> (src/hooks/__tests__/useAuth.race.simple.test.tsx:176:20)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)

Test Suites: 12 failed, 4 passed, 16 total
Tests:       61 failed, 1 skipped, 26 passed, 88 total
Snapshots:   0 total
Time:        68.446 s
Ran all test suites matching /src\/hooks\/__tests__\//i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
